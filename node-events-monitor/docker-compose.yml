version: '3.7'

services:
  node-events-monitor:
    image: dantebarba/node-events-monitor:latest
    container_name: node-events-monitor
    volumes:
      - ./servers.json:/app/servers.json
    labels:
      - "traefik.docker.network=main"
      - "traefik.enable=true"
      - "traefik.basic.frontend.rule=Host:events.${DOMAIN_URL}"
      - "traefik.basic.port=5000"
      - "traefik.frontend.entryPoints=http,https"
      - "traefik.backend.healthcheck.path=/"
      - "traefik.backend.healthcheck.interval=30s"
      - traefik.frontend.headers.frameDeny=false
      - traefik.frontend.headers.browserXSSFilter=true
      - traefik.frontend.headers.isDevelopment=false
      - traefik.frontend.headers.STSSeconds=315360000
      - traefik.frontend.headers.forceSTSHeader=false
      - traefik.frontend.headers.contentTypeNosniff=true
    networks:
      - main
  
networks: 
  main:
    external: true